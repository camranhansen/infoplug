<head>
    <link rel='stylesheet' type='text/css' href='style.css'>
        <!-- set browser colour -->
        <meta name='theme-color' content='#ff6905' />
    </head>


<div class='navbar'>
    <a onclick='openNav()'>&#9776;</a>
    <span>InfoPlug</span>
    </div>
    
    
  <!-- sidenav -->  
    <div id='mySidenav' class='sidenav'>
  <a href='javascript:void(0)' class='closebtn' onclick='closeNav()'>&times;</a>
  <a href='/'>Home</a>
  <a href='Settings.htm'>Chart</a>
  <a href='About.htm'>About</a>
</div>

<div class="main">

<div class="chart-container">
    <canvas id="chart"></canvas>
</div>
    
</div>
<!-- Load the libraries -->
<script src="chart.js"></script>
<script src="jquery.js"></script>
<!-- do the graph-->
<script>
	$.get('data.txt', function(result) {
		// console.log(typeof result);
		// console.log(result)
		var a = result.split(",");
		// a = dat.slice(0, 61);
		a.splice(-1,1)
		console.log(a)

		// a = result.strip(",")
		var options = {
		  type: 'line',
		  data: {
		    labels: a,
		    datasets: [
			    {
					label: 'Hourly view: Wattage',
					data: a,
					borderWidth: 2,
					borderColor : "#ff6905",
					backgroundColor : "#ffb482"
		    	}
				]
		  },
		  options: {
		  	scales: {
		    	xAxes: [{display: false}]
		    }
		  }
		}

		var ctx = document.getElementById('chart').getContext('2d');
		new Chart(ctx, options);
	});
	// b = "70,64,52,68,60,64,46,63,63,69,45,47,45,49,49,47,40,48,43,41,40,57,46,53,64,66,65,41,58,51,58,53,40,51,50,63,70,53,67,57,62,63,45,57,64,58,62,64,56,64,50,49,65,64,57,41,61,44,41,67"
	// console.log("doing b now")
	// console.log(b);
	// console.log(b.split(","));
    
    
    function openNav() {
    document.getElementById("mySidenav").style.width = "45%";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}

</script>